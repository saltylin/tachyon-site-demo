<!DOCTYPE html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Unified and Transparent Namespace - Tachyon 0.9.0-SNAPSHOT Documentation</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="../css/bootstrap-responsive.min.css">
    <link rel="stylesheet" href="../css/main.css">

    <script src="../js/vendor/modernizr-2.6.1-respond-1.1.0.min.js"></script>

    <link rel="stylesheet" href="../css/pygments-default.css">

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-47563775-2', 'tachyon-project.org');
        ga('send', 'pageview');
    </script>
</head>
<body>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade
    your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install
    Google Chrome Frame</a> to better experience this site.</p>
<![endif]-->

<!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

<div class="navbar navbar-fixed-top" id="topbar">
    <div class="navbar-inner">
        <div class="container">
            <a href="index.html">
                <div class="brand" style="display:table;">
                    <div style="position:relative;display:table-cell;vertical-align:middle;">
                        <img src="../img/logo-white.png" alt="Tachyon Logo" style="height:34px;"/>
                        <div style="position:absolute;right:0;top:30px;text-shadow:none;">
                            <span class="version">0.9.0-SNAPSHOT</span>
                        </div>
                    </div>
                </div>
            </a>
            <ul class="nav">
                
                    
                    <!-- overviewPage only has one element -->
                    <li><a href="index.html">Overview</a></li>
                

                
                
                    <li class="dropdown">
                        
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Guide<b
                                class="caret"></b></a>
                        

                        <ul class="dropdown-menu">
                            
                            
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Getting-Started.html">
                                        
                                            Getting Started
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Architecture.html">
                                        
                                            Architecture Overview
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-Locally.html">
                                        
                                            Tachyon on Local Machine
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-on-Virtual-Box.html">
                                        
                                            Tachyon on Virtual Box
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-on-a-Cluster.html">
                                        
                                            Tachyon Standalone on a Cluster
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-Fault-Tolerant.html">
                                        
                                            Tachyon Standalone with Fault Tolerance
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-on-EC2.html">
                                        
                                            Tachyon on EC2
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-on-EC2-Mesos.html">
                                        
                                            Tachyon on EC2 with Mesos
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-Fault-Tolerant-on-EC2.html">
                                        
                                            Tachyon on EC2 with Fault Tolerance
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Tachyon-on-EC2-Yarn.html">
                                        
                                            Tachyon on EC2 with YARN
                                        
                                    </a></li>
                                
                            
                            
                        </ul>
                    </li>
                
                    <li class="dropdown">
                        
                            <a href="#" class="dropdown-toggle active" data-toggle="dropdown">Features<b
                                class="caret"></b></a>
                        

                        <ul class="dropdown-menu">
                            
                            
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Command-Line-Interface.html">
                                        
                                            Command Line Interface
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Configuration-Settings.html">
                                        
                                            Configuration Settings
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/File-System-API.html">
                                        
                                            Filesystem API
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Lineage-API.html">
                                        
                                            Lineage API
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Metrics-System.html">
                                        
                                            Metrics System
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Mounting-Tachyon-FS-with-FUSE.html">
                                        
                                            Tachyon-FUSE
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Tiered-Storage-on-Tachyon.html">
                                        
                                            Tiered Storage
                                        
                                    </a></li>
                                
                            
                                
                                    <li class="active">
                                        <a>
                                            
                                                Unified Namespace
                                            
                                        </a>
                                    </li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Web-Interface.html">
                                        
                                            Web Interface
                                        
                                    </a></li>
                                
                            
                            
                        </ul>
                    </li>
                
                    <li class="dropdown">
                        
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Frameworks<b
                                class="caret"></b></a>
                        

                        <ul class="dropdown-menu">
                            
                            
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Spark-on-Tachyon.html">
                                        
                                            Apache Spark
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Hadoop-MapReduce-on-Tachyon.html">
                                        
                                            Apache Hadoop MapReduce
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Running-Flink-on-Tachyon.html">
                                        
                                            Apache Flink
                                        
                                    </a></li>
                                
                            
                            
                        </ul>
                    </li>
                
                    <li class="dropdown">
                        
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Under Stores<b
                                class="caret"></b></a>
                        

                        <ul class="dropdown-menu">
                            
                            
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Configuring-Tachyon-with-S3.html">
                                        
                                            Tachyon with S3
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Configuring-Tachyon-with-Swift.html">
                                        
                                            Tachyon with Swift
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Configuring-Tachyon-with-GlusterFS.html">
                                        
                                            Tachyon with GlusterFS
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Configuring-Tachyon-with-HDFS.html">
                                        
                                            Tachyon with HDFS
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Configuring-Tachyon-with-OSS.html">
                                        
                                            Tachyon with OSS
                                        
                                    </a></li>
                                
                            
                            
                        </ul>
                    </li>
                
                    <li class="dropdown">
                        
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dev Resources<b
                                class="caret"></b></a>
                        

                        <ul class="dropdown-menu">
                            
                            
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Building-Tachyon-Master-Branch.html">
                                        
                                            Building Master Branch
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Contributing-to-Tachyon.html">
                                        
                                            Contributor Guide
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Developer-Tips.html">
                                        
                                            Developer Tips
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Integrating-Under-Storage-Systems.html">
                                        
                                            Integrating Under Storage Systems
                                        
                                    </a></li>
                                
                            
                                
                                    <!-- Use the prefix .. to change the absulote url to relative url -->
                                    <li><a href="../en/Powered-By-Tachyon.html">
                                        
                                            Powered By Tachyon
                                        
                                    </a></li>
                                
                            
                            
                                <li><a href="https://tachyon.atlassian.net/browse/TACHYON">Reporting Issues (JIRA)</a></li>
                                <li class="divider"></li>
                                <li><p>Presentations</p></li>
                                <li><a href="http://goo.gl/kcKeTp">Strata and Hadoop World 2015</a></li>
                                <li><a href="http://goo.gl/0HpqeS">Tachyon Workshop 2015</a></li>
                                <li><a href="http://goo.gl/fP9qkF">Strata and Hadoop World 2014</a></li>
                                <li><a href="http://goo.gl/DKrE4M">Spark Summit 2014</a></li>
                                <li><a href="http://goo.gl/AHgz0E">Strata and Hadoop World 2013</a></li>
                            
                        </ul>
                    </li>
                

                <!-- Generator the language selector at the right of the navigation bar -->
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">English<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                            <!-- Use the prefix .. to change the absulote url to relative url -->
                            <li><a href="../en/Unified-and-Transparent-Namespace.html">English</a></li>
                        
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="container" id="content">
    <h1 class="title">Unified and Transparent Namespace</h1>
    
    <ul id="markdown-toc">
  <li><a href="#transparent-naming" id="markdown-toc-transparent-naming">Transparent Naming</a></li>
  <li><a href="#unified-namespace" id="markdown-toc-unified-namespace">Unified Namespace</a></li>
  <li><a href="#example" id="markdown-toc-example">Example</a></li>
</ul>

<p>Tachyon enables effective data management across different storage systems through its use of
transparent naming and mounting API.</p>

<h2 id="transparent-naming">Transparent Naming</h2>

<p>Transparent naming maintains an identity between the Tachyon namespace and the underlying storage
system namespace.</p>

<p><img src="../img/screenshot_transparent.png" alt="transparent" /></p>

<p>When a user creates objects in the Tachyon namespace, they can choose whether these objects should
be persisted in the underlying storage system. For objects that are persisted, Tachyon preserve the
object paths, relative to the underlying storage system directory in which Tachyon objects are
stored. For instance, if a user creates a top-level directory <code class="highlighter-rouge">Users</code> with subdirectories <code class="highlighter-rouge">Alice</code>
and <code class="highlighter-rouge">Bob</code>, the directory structure and naming is preserved in the underlying storage system (e.g.
HDFS or S3). Similarly, when a user renames or deletes a persisted object in the Tachyon namespace,
it is renamed or deleted in the underlying storage system.</p>

<p>Furthermore, Tachyon transparently discovers content present in the underlying storage system which
was not created through Tachyon. For instance, if the underlying storage system contains a directory
<code class="highlighter-rouge">Data</code> with files <code class="highlighter-rouge">Reports</code> and <code class="highlighter-rouge">Sales</code>, all of which were not created through Tachyon, their
metadata will be loaded into Tachyon the first time they are accessed (e.g. when a user requests to
open a file). The data of file is not loaded to Tachyon during this process. To load the data into
Tachyon, one can set the <code class="highlighter-rouge">TachyonStorageType</code> to <code class="highlighter-rouge">STORE</code> when reading the data for the first time or
use the <code class="highlighter-rouge">load</code> command of the Tachyon shell.</p>

<h2 id="unified-namespace">Unified Namespace</h2>

<p>Tachyon provides a mounting API that makes it possible to use Tachyon to access data across multiple
data sources.</p>

<p><img src="../img/screenshot_unified.png" alt="unified" /></p>

<p>By default, Tachyon namespace is mounted onto the directory specified by the
<code class="highlighter-rouge">tachyon.underfs.address</code> property of Tachyon configuration; this directory identifies the
“primary storage” for Tachyon. In addition, users can use the mounting API to add new and remove
existing data sources:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="n">bool</span> <span class="nf">mount</span><span class="p">(</span><span class="n">String</span> <span class="n">tachyonPath</span><span class="o">,</span> <span class="n">String</span> <span class="n">ufsPath</span><span class="o">);</span>
<span class="n">bool</span> <span class="nf">unmount</span><span class="p">(</span><span class="n">String</span> <span class="n">tachyonPath</span><span class="o">);</span>
</code></pre>
</div>

<p>For example, the primary storage could be HDFS and contains user directories; the <code class="highlighter-rouge">Data</code> directory
might be stored in an S3 bucket, which is mounted to the Tachyon namespace through the
<code class="highlighter-rouge">mount(tachyon://host:port/Data, s3://bucket/directory)</code> invocation.</p>

<h2 id="example">Example</h2>

<p>In this example, we will showcase the above features. The example assumes that Tachyon source code
exists in the <code class="highlighter-rouge">${TACHYON_HOME}</code> directory and that there is an instance of Tachyon running locally.</p>

<p>First, let’s create a temporary directory in the local file system that will use for the example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="nb">cd</span> /tmp
<span class="gp">$ </span>mkdir tachyon-demo
<span class="gp">$ </span>touch tachyon-demo/hello
</code></pre>
</div>

<p>Next, let’s mount the directory created above into Tachyon and verify the mounted directory
appears in Tachyon:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs mount /demo /tmp/tachyon-demo
<span class="gp">&gt; </span>Mounted /tmp/tachyon-demo at /demo
<span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs lsr /
... <span class="c"># should contain /demo but not /demo/hello</span>
</code></pre>
</div>

<p>Next, let’s verify that the metadata for content not created through Tachyon is loaded into Tachyon
the first time the content is accessed:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs ls /demo/hello
... <span class="c"># should contain /demo/hello</span>
</code></pre>
</div>

<p>Next, let’s create a file under the mounted directory and verify the file is created in the underlying
file system:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs touch /demo/hello2
<span class="gp">&gt; </span>/demo/hello2 has been created
<span class="gp">$ </span>ls /tmp/tachyon-demo
<span class="gp">&gt; </span>hello hello2
</code></pre>
</div>

<p>Next, let’s rename a file in Tachyon and verify the file is renamed in the underlying file system:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs mv /demo/hello2 /demo/world
<span class="gp">&gt; </span>Renamed /demo/hello2 to /demo/world
<span class="gp">$ </span>ls /tmp/tachyon-demo
<span class="gp">&gt; </span>hello world
</code></pre>
</div>

<p>Next, let’s delete a file in Tachyon and verify the file is deleted in the underlying file system:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs rm /demo/world
<span class="gp">&gt; </span>/demo/world has been removed
<span class="gp">$ </span>ls /tmp/tachyon-demo
<span class="gp">&gt; </span>hello
</code></pre>
</div>

<p>Finally, let’s unmount the mounted directory and verify that the directory is removed from the
Tachyon namespace, but its content is preserved in the underlying file system:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs unmount /demo
<span class="gp">&gt; </span>Unmounted /demo
<span class="gp">$ </span><span class="k">${</span><span class="nv">TACHYON_HOME</span><span class="k">}</span>/bin/tachyon tfs lsr /
... <span class="c"># should not contain /demo</span>
<span class="gp">$ </span>ls /tmp/tachyon-demo
<span class="gp">&gt; </span>hello
</code></pre>
</div>

    <!-- Main hero unit for a primary marketing message or call to action -->
    <!--<div class="hero-unit">
        <h1>Hello, world!</h1>
        <p>This is a template for a simple marketing or informational website. It includes a large callout called the hero unit and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
        <p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>
            </div>-->

    <!-- Example row of columns -->
    <!--<div class="row">
        <div class="span4">
            <h2>Heading</h2>
            <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
            <p><a class="btn" href="#">View details &raquo;</a></p>
                </div>
                <div class="span4">
                    <h2>Heading</h2>
                    <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                    <p><a class="btn" href="#">View details &raquo;</a></p>
               </div>
                <div class="span4">
                    <h2>Heading</h2>
                    <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
                    <p><a class="btn" href="#">View details &raquo;</a></p>
                </div>
            </div>

            <hr>-->

    <footer>
        <hr>
        <p style="text-align: center; veritcal-align: middle; color: #999;">
            Tachyon is being developed by a <a href="https://github.com/amplab/tachyon/graphs/contributors">large community</a>.
        </p>
    </footer>

</div>
<!-- /container -->

<script src="../js/vendor/jquery-1.8.0.min.js"></script>
<script src="../js/vendor/bootstrap.min.js"></script>
<script src="../js/main.js"></script>

<!-- A script to fix internal hash links because we have an overlapping top bar.
     Based on https://github.com/twitter/bootstrap/issues/193#issuecomment-2281510 -->
<script>
    $(function () {
        function maybeScrollToHash() {
            if (window.location.hash && $(window.location.hash).length) {
                var newTop = $(window.location.hash).offset().top - $('#topbar').height() - 5;
                $(window).scrollTop(newTop);
            }
        }

        $(window).bind('hashchange', function () {
            maybeScrollToHash();
        });
        // Scroll now too in case we had opened the page on a hash, but wait 1 ms because some browsers
        // will try to do *their* initial scroll after running the onReady handler.
        setTimeout(function () {
            maybeScrollToHash();
        }, 1)
    })
</script>

<script src="../js/scrollspy.js"></script>

</body>
</html>
