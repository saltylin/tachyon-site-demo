<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_11) on Fri Jan 22 20:33:48 CST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TieredBlockStore (Tachyon Parent 0.9.0-SNAPSHOT API)</title>
<meta name="date" content="2016-01-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TieredBlockStore (Tachyon Parent 0.9.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TieredBlockStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../tachyon/worker/block/SpaceReserver.html" title="class in tachyon.worker.block"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?tachyon/worker/block/TieredBlockStore.html" target="_top">Frames</a></li>
<li><a href="TieredBlockStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">tachyon.worker.block</div>
<h2 title="Class TieredBlockStore" class="title">Class TieredBlockStore</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>tachyon.worker.block.TieredBlockStore</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">TieredBlockStore</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class represents an object store that manages all the blocks in the local tiered storage.
 This store exposes simple public APIs to operate blocks. Inside this store, it creates an
 Allocator to decide where to put a new block, an Evictor to decide where to evict a stale block,
 a BlockMetadataManager to maintain the status of the tiered storage, and a LockManager to
 coordinate read/write on the same block.
 <p>
 This class is thread-safe, using the following lock hierarchy to ensure thread-safety:
 <ul>
 <li>Any block-level operation (e.g., read, move or remove) on an existing block must acquire a
 block lock for this block via <a href="../../../tachyon/worker/block/TieredBlockStore.html#mLockManager"><code>mLockManager</code></a>. This block lock is a
 read/write lock, guarding both the metadata operations and the following I/O on this block. It
 coordinates different threads (clients) when accessing the same block concurrently.</li>
 <li>Any metadata operation (read or write) must go through <a href="../../../tachyon/worker/block/TieredBlockStore.html#mMetaManager"><code>mMetaManager</code></a>
 and guarded by <a href="../../../tachyon/worker/block/TieredBlockStore.html#mMetadataLock"><code>mMetadataLock</code></a>. This is also a read/write lock and
 coordinates different threads (clients) when accessing the shared data structure for metadata.
 </li>
 <li>Method <a href="../../../tachyon/worker/block/TieredBlockStore.html#createBlockMeta-long-long-tachyon.worker.block.BlockStoreLocation-long-"><code>createBlockMeta(long, long, tachyon.worker.block.BlockStoreLocation, long)</code></a> does not acquire the block lock, because it only creates a
 temp block which is only visible to its writer before committed (thus no concurrent access).</li>
 <li>Eviction is done in <a href="../../../tachyon/worker/block/TieredBlockStore.html#freeSpaceInternal-long-long-tachyon.worker.block.BlockStoreLocation-"><code>freeSpaceInternal(long, long, tachyon.worker.block.BlockStoreLocation)</code></a> and it is on the basis of best effort. For
 operations that may trigger this eviction (e.g., move, create, requestSpace), retry is used</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#TieredBlockStore--">TieredBlockStore</a></span>()</code>
<div class="block">Creates a new instance of <a href="../../../tachyon/worker/block/TieredBlockStore.html" title="class in tachyon.worker.block"><code>TieredBlockStore</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#abortBlock-long-long-">abortBlock</a></span>(long&nbsp;sessionId,
          long&nbsp;blockId)</code>
<div class="block">Aborts a temporary block.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#accessBlock-long-long-">accessBlock</a></span>(long&nbsp;sessionId,
           long&nbsp;blockId)</code>
<div class="block">Notifies the block store that a block was accessed so the block store could update accordingly
 the registered listeners such as evictor and allocator on block access.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#cleanupSession-long-">cleanupSession</a></span>(long&nbsp;sessionId)</code>
<div class="block">Cleans up the data associated with a specific session (typically a dead session).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#commitBlock-long-long-">commitBlock</a></span>(long&nbsp;sessionId,
           long&nbsp;blockId)</code>
<div class="block">Commits a temporary block to the local store.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../../../tachyon/worker/block/meta/TempBlockMeta.html" title="class in tachyon.worker.block.meta">TempBlockMeta</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#createBlockMeta-long-long-tachyon.worker.block.BlockStoreLocation-long-">createBlockMeta</a></span>(long&nbsp;sessionId,
               long&nbsp;blockId,
               <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;location,
               long&nbsp;initialBlockSize)</code>
<div class="block">Creates the meta data of a new block and assigns a temporary path (e.g., a subdir of the final
 location named after the the session id) to store its data.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#freeSpace-long-long-tachyon.worker.block.BlockStoreLocation-">freeSpace</a></span>(long&nbsp;sessionId,
         long&nbsp;availableBytes,
         <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;location)</code>
<div class="block">Frees space to make a specific amount of bytes available in the location.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../tachyon/worker/block/meta/BlockMeta.html" title="class in tachyon.worker.block.meta">BlockMeta</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#getBlockMeta-long-long-long-">getBlockMeta</a></span>(long&nbsp;sessionId,
            long&nbsp;blockId,
            long&nbsp;lockId)</code>
<div class="block">Gets the meta data of a specific block from local storage.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../tachyon/worker/block/io/BlockReader.html" title="interface in tachyon.worker.block.io">BlockReader</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#getBlockReader-long-long-long-">getBlockReader</a></span>(long&nbsp;sessionId,
              long&nbsp;blockId,
              long&nbsp;lockId)</code>
<div class="block">Creates a reader of an existing block to read data from this block.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../tachyon/worker/block/BlockStoreMeta.html" title="class in tachyon.worker.block">BlockStoreMeta</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#getBlockStoreMeta--">getBlockStoreMeta</a></span>()</code>
<div class="block">Gets the meta data of the entire store in a snapshot.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code><a href="../../../tachyon/worker/block/io/BlockWriter.html" title="interface in tachyon.worker.block.io">BlockWriter</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#getBlockWriter-long-long-">getBlockWriter</a></span>(long&nbsp;sessionId,
              long&nbsp;blockId)</code>
<div class="block">Creates a writer to write data to a temp block.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../tachyon/worker/block/meta/BlockMeta.html" title="class in tachyon.worker.block.meta">BlockMeta</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#getVolatileBlockMeta-long-">getVolatileBlockMeta</a></span>(long&nbsp;blockId)</code>
<div class="block">Gets the metadata of a block given its blockId or throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception"><code>BlockDoesNotExistException</code></a>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#hasBlockMeta-long-">hasBlockMeta</a></span>(long&nbsp;blockId)</code>
<div class="block">Checks if the storage has a given block.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-">lockBlock</a></span>(long&nbsp;sessionId,
         long&nbsp;blockId)</code>
<div class="block">Locks an existing block and guards subsequent reads on this block.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#moveBlock-long-long-tachyon.worker.block.BlockStoreLocation-">moveBlock</a></span>(long&nbsp;sessionId,
         long&nbsp;blockId,
         <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;newLocation)</code>
<div class="block">Moves an existing block to a new location.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#moveBlock-long-long-tachyon.worker.block.BlockStoreLocation-tachyon.worker.block.BlockStoreLocation-">moveBlock</a></span>(long&nbsp;sessionId,
         long&nbsp;blockId,
         <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;oldLocation,
         <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;newLocation)</code>
<div class="block">Moves an existing block to a new location.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#registerBlockStoreEventListener-tachyon.worker.block.BlockStoreEventListener-">registerBlockStoreEventListener</a></span>(<a href="../../../tachyon/worker/block/BlockStoreEventListener.html" title="interface in tachyon.worker.block">BlockStoreEventListener</a>&nbsp;listener)</code>
<div class="block">Registers a <a href="../../../tachyon/worker/block/BlockStoreEventListener.html" title="interface in tachyon.worker.block"><code>BlockStoreEventListener</code></a> to this block store.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#removeBlock-long-long-">removeBlock</a></span>(long&nbsp;sessionId,
           long&nbsp;blockId)</code>
<div class="block">Removes an existing block.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#removeBlock-long-long-tachyon.worker.block.BlockStoreLocation-">removeBlock</a></span>(long&nbsp;sessionId,
           long&nbsp;blockId,
           <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;location)</code>
<div class="block">Removes an existing block.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#requestSpace-long-long-long-">requestSpace</a></span>(long&nbsp;sessionId,
            long&nbsp;blockId,
            long&nbsp;additionalBytes)</code>
<div class="block">Requests to increase the size of a temp block.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#unlockBlock-long-">unlockBlock</a></span>(long&nbsp;lockId)</code>
<div class="block">Releases an acquired block lock based on a lockId (returned by <a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-"><code>lockBlock(long, long)</code></a>.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#unlockBlock-long-long-">unlockBlock</a></span>(long&nbsp;sessionId,
           long&nbsp;blockId)</code>
<div class="block">Releases an acquired block lock based on a session id and block id.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../tachyon/worker/block/TieredBlockStore.html#updatePinnedInodes-java.util.Set-">updatePinnedInodes</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;inodes)</code>
<div class="block">Updates the pinned blocks.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TieredBlockStore--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TieredBlockStore</h4>
<pre>public&nbsp;TieredBlockStore()</pre>
<div class="block">Creates a new instance of <a href="../../../tachyon/worker/block/TieredBlockStore.html" title="class in tachyon.worker.block"><code>TieredBlockStore</code></a>.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="lockBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockBlock</h4>
<pre>public&nbsp;long&nbsp;lockBlock(long&nbsp;sessionId,
                      long&nbsp;blockId)
               throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></pre>
<div class="block">Locks an existing block and guards subsequent reads on this block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to lock this block</dd>
<dd><code>blockId</code> - the id of the block to lock</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the lock id if the lock is acquired successfully</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if blockId can not be found, for example, evicted already</dd>
</dl>
</li>
</ul>
<a name="unlockBlock-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockBlock</h4>
<pre>public&nbsp;void&nbsp;unlockBlock(long&nbsp;lockId)
                 throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></pre>
<div class="block">Releases an acquired block lock based on a lockId (returned by <a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-"><code>lockBlock(long, long)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lockId</code> - the id of the lock returned by <a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-"><code>lockBlock(long, long)</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if lockId can not be found</dd>
</dl>
</li>
</ul>
<a name="unlockBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockBlock</h4>
<pre>public&nbsp;void&nbsp;unlockBlock(long&nbsp;sessionId,
                        long&nbsp;blockId)
                 throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></pre>
<div class="block">Releases an acquired block lock based on a session id and block id.
 TODO(calvin): temporary, will be removed after changing client side code.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to lock this block</dd>
<dd><code>blockId</code> - the id of the block to lock</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if blockId can not be found, for example, evicted already</dd>
</dl>
</li>
</ul>
<a name="getBlockWriter-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockWriter</h4>
<pre>public&nbsp;<a href="../../../tachyon/worker/block/io/BlockWriter.html" title="interface in tachyon.worker.block.io">BlockWriter</a>&nbsp;getBlockWriter(long&nbsp;sessionId,
                                  long&nbsp;blockId)
                           throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                                  <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a writer to write data to a temp block. Since the temp block is "private" to the
 writer, this operation requires no previously acquired lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to get the writer</dd>
<dd><code>blockId</code> - the id of the temp block</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../tachyon/worker/block/io/BlockWriter.html" title="interface in tachyon.worker.block.io"><code>BlockWriter</code></a> instance on this block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if the block can not be found</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if block can not be created</dd>
</dl>
</li>
</ul>
<a name="getBlockReader-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockReader</h4>
<pre>public&nbsp;<a href="../../../tachyon/worker/block/io/BlockReader.html" title="interface in tachyon.worker.block.io">BlockReader</a>&nbsp;getBlockReader(long&nbsp;sessionId,
                                  long&nbsp;blockId,
                                  long&nbsp;lockId)
                           throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                                  <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                                  <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a reader of an existing block to read data from this block.
 <p>
 This operation requires the lock id returned by a previously acquired
 <a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-"><code>lockBlock(long, long)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to get the reader</dd>
<dd><code>blockId</code> - the id of an existing block</dd>
<dd><code>lockId</code> - the id of the lock returned by <a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-"><code>lockBlock(long, long)</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../tachyon/worker/block/io/BlockReader.html" title="interface in tachyon.worker.block.io"><code>BlockReader</code></a> instance on this block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if lockId is not found</dd>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if sessionId or blockId is not the same as that in the
         LockRecord of lockId</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if block can not be read</dd>
</dl>
</li>
</ul>
<a name="createBlockMeta-long-long-tachyon.worker.block.BlockStoreLocation-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createBlockMeta</h4>
<pre>public&nbsp;<a href="../../../tachyon/worker/block/meta/TempBlockMeta.html" title="class in tachyon.worker.block.meta">TempBlockMeta</a>&nbsp;createBlockMeta(long&nbsp;sessionId,
                                     long&nbsp;blockId,
                                     <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;location,
                                     long&nbsp;initialBlockSize)
                              throws <a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a>,
                                     <a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a>,
                                     <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates the meta data of a new block and assigns a temporary path (e.g., a subdir of the final
 location named after the the session id) to store its data. This method only creates the meta
 data but adds NO data to this temporary location. The location can be a location with specific
 tier and dir, or <a href="../../../tachyon/worker/block/BlockStoreLocation.html#anyTier--"><code>BlockStoreLocation.anyTier()</code></a>, or
 <a href="../../../tachyon/worker/block/BlockStoreLocation.html#anyDirInTier-java.lang.String-"><code>BlockStoreLocation.anyDirInTier(String)</code></a>.
 <p>
 Before commit, all the data written to this block will be stored in the temp path and the block
 is only "visible" to its writer client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session</dd>
<dd><code>blockId</code> - the id of the block to create</dd>
<dd><code>location</code> - location to create this block</dd>
<dd><code>initialBlockSize</code> - initial size of this block in bytes</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>metadata of the temp block created</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a></code> - if blockId already exists, either temporary or committed,
         or block in eviction plan already exists</dd>
<dd><code><a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a></code> - if this Store has no more space than the initialBlockSize</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if blocks in eviction plan fail to be moved or deleted</dd>
</dl>
</li>
</ul>
<a name="getVolatileBlockMeta-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVolatileBlockMeta</h4>
<pre>public&nbsp;<a href="../../../tachyon/worker/block/meta/BlockMeta.html" title="class in tachyon.worker.block.meta">BlockMeta</a>&nbsp;getVolatileBlockMeta(long&nbsp;blockId)
                               throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></pre>
<div class="block">Gets the metadata of a block given its blockId or throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception"><code>BlockDoesNotExistException</code></a>.
 This method does not require a lock id so the block is possible to be moved or removed after it
 returns.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - the block id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>metadata of the block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if no BlockMeta for this blockId is found</dd>
</dl>
</li>
</ul>
<a name="getBlockMeta-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockMeta</h4>
<pre>public&nbsp;<a href="../../../tachyon/worker/block/meta/BlockMeta.html" title="class in tachyon.worker.block.meta">BlockMeta</a>&nbsp;getBlockMeta(long&nbsp;sessionId,
                              long&nbsp;blockId,
                              long&nbsp;lockId)
                       throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                              <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></pre>
<div class="block">Gets the meta data of a specific block from local storage.
 <p>
 This method requires the lock id returned by a previously acquired
 <a href="../../../tachyon/worker/block/TieredBlockStore.html#lockBlock-long-long-"><code>lockBlock(long, long)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to get this file</dd>
<dd><code>blockId</code> - the id of the block</dd>
<dd><code>lockId</code> - the id of the lock</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>metadata of the block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if the blockId can not be found in committed blocks or
         lockId can not be found</dd>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if sessionId or blockId is not the same as that in the
         LockRecord of lockId</dd>
</dl>
</li>
</ul>
<a name="commitBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>commitBlock</h4>
<pre>public&nbsp;void&nbsp;commitBlock(long&nbsp;sessionId,
                        long&nbsp;blockId)
                 throws <a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a>,
                        <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                        <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Commits a temporary block to the local store. After commit, the block will be available in this
 block store for all clients to access. Since a temp block is "private" to the writer, this
 method requires no previously acquired lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session</dd>
<dd><code>blockId</code> - the id of a temp block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a></code> - if blockId already exists in committed blocks</dd>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if blockId does not belong to sessionId</dd>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if the temporary block can not be found</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if the block can not be moved from temporary path to committed path</dd>
</dl>
</li>
</ul>
<a name="abortBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>abortBlock</h4>
<pre>public&nbsp;void&nbsp;abortBlock(long&nbsp;sessionId,
                       long&nbsp;blockId)
                throws <a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a>,
                       <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                       <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                       <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Aborts a temporary block. The meta data of this block will not be added, its data will be
 deleted and the space will be reclaimed. Since a temp block is "private" to the writer, this
 requires no previously acquired lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session</dd>
<dd><code>blockId</code> - the id of a temp block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a></code> - if blockId already exists in committed blocks</dd>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if the temporary block can not be found</dd>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if blockId does not belong to sessionId</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if temporary block can not be deleted</dd>
</dl>
</li>
</ul>
<a name="requestSpace-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requestSpace</h4>
<pre>public&nbsp;void&nbsp;requestSpace(long&nbsp;sessionId,
                         long&nbsp;blockId,
                         long&nbsp;additionalBytes)
                  throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                         <a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a>,
                         <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Requests to increase the size of a temp block. Since a temp block is "private" to the writer
 client, this operation requires no previously acquired lock.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to request space</dd>
<dd><code>blockId</code> - the id of the temp block</dd>
<dd><code>additionalBytes</code> - the amount of more space to request in bytes, never be less than 0</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if blockId can not be found, or some block in eviction plan
         cannot be found</dd>
<dd><code><a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a></code> - if requested space can not be satisfied</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if blocks in <a href="../../../tachyon/worker/block/evictor/EvictionPlan.html" title="class in tachyon.worker.block.evictor"><code>EvictionPlan</code></a> fail to be
         moved or deleted on file system</dd>
</dl>
</li>
</ul>
<a name="moveBlock-long-long-tachyon.worker.block.BlockStoreLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveBlock</h4>
<pre>public&nbsp;void&nbsp;moveBlock(long&nbsp;sessionId,
                      long&nbsp;blockId,
                      <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;newLocation)
               throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                      <a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a>,
                      <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                      <a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a>,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Moves an existing block to a new location.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to move a block</dd>
<dd><code>blockId</code> - the id of an existing block</dd>
<dd><code>newLocation</code> - the location of the destination</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if blockId can not be found</dd>
<dd><code><a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a></code> - if blockId already exists in committed blocks of the
         newLocation</dd>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if blockId has not been committed</dd>
<dd><code><a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a></code> - if newLocation does not have enough extra space to hold the
         block</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if block cannot be moved from current location to newLocation</dd>
</dl>
</li>
</ul>
<a name="moveBlock-long-long-tachyon.worker.block.BlockStoreLocation-tachyon.worker.block.BlockStoreLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>moveBlock</h4>
<pre>public&nbsp;void&nbsp;moveBlock(long&nbsp;sessionId,
                      long&nbsp;blockId,
                      <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;oldLocation,
                      <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;newLocation)
               throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                      <a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a>,
                      <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                      <a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a>,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Moves an existing block to a new location.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to remove a block</dd>
<dd><code>blockId</code> - the id of an existing block</dd>
<dd><code>oldLocation</code> - the location of the source</dd>
<dd><code>newLocation</code> - the location of the destination</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if blockId can not be found</dd>
<dd><code><a href="../../../tachyon/exception/BlockAlreadyExistsException.html" title="class in tachyon.exception">BlockAlreadyExistsException</a></code> - if blockId already exists in committed blocks of the
         newLocation</dd>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if blockId has not been committed</dd>
<dd><code><a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a></code> - if newLocation does not have enough extra space to hold the
         block</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if block cannot be moved from current location to newLocation</dd>
</dl>
</li>
</ul>
<a name="removeBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeBlock</h4>
<pre>public&nbsp;void&nbsp;removeBlock(long&nbsp;sessionId,
                        long&nbsp;blockId)
                 throws <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                        <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Removes an existing block. If the block can not be found in this store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to remove a block</dd>
<dd><code>blockId</code> - the id of an existing block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if blockId has not been committed</dd>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if block can not be found</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if block cannot be removed from current path</dd>
</dl>
</li>
</ul>
<a name="removeBlock-long-long-tachyon.worker.block.BlockStoreLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeBlock</h4>
<pre>public&nbsp;void&nbsp;removeBlock(long&nbsp;sessionId,
                        long&nbsp;blockId,
                        <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;location)
                 throws <a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a>,
                        <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                        <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Removes an existing block. If the block can not be found in this store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to move a block</dd>
<dd><code>blockId</code> - the id of an existing block</dd>
<dd><code>location</code> - the location of the block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/InvalidWorkerStateException.html" title="class in tachyon.exception">InvalidWorkerStateException</a></code> - if blockId has not been committed</dd>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if block can not be found</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if block cannot be removed from current path</dd>
</dl>
</li>
</ul>
<a name="accessBlock-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accessBlock</h4>
<pre>public&nbsp;void&nbsp;accessBlock(long&nbsp;sessionId,
                        long&nbsp;blockId)
                 throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></pre>
<div class="block">Notifies the block store that a block was accessed so the block store could update accordingly
 the registered listeners such as evictor and allocator on block access.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the id of the session to access a block</dd>
<dd><code>blockId</code> - the id of an accessed block</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if the blockId is not found</dd>
</dl>
</li>
</ul>
<a name="freeSpace-long-long-tachyon.worker.block.BlockStoreLocation-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeSpace</h4>
<pre>public&nbsp;void&nbsp;freeSpace(long&nbsp;sessionId,
                      long&nbsp;availableBytes,
                      <a href="../../../tachyon/worker/block/BlockStoreLocation.html" title="class in tachyon.worker.block">BlockStoreLocation</a>&nbsp;location)
               throws <a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a>,
                      <a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a>,
                      <a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Frees space to make a specific amount of bytes available in the location.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the session id</dd>
<dd><code>availableBytes</code> - the amount of free space in bytes</dd>
<dd><code>location</code> - the location to free space</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../tachyon/exception/BlockDoesNotExistException.html" title="class in tachyon.exception">BlockDoesNotExistException</a></code> - if blocks in
         <a href="../../../tachyon/worker/block/evictor/EvictionPlan.html" title="class in tachyon.worker.block.evictor"><code>EvictionPlan</code></a> can not be found</dd>
<dd><code><a href="../../../tachyon/exception/WorkerOutOfSpaceException.html" title="class in tachyon.exception">WorkerOutOfSpaceException</a></code> - if there is not enough space</dd>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if blocks in <a href="../../../tachyon/worker/block/evictor/EvictionPlan.html" title="class in tachyon.worker.block.evictor"><code>EvictionPlan</code></a> fail to be
         moved or deleted on file system</dd>
</dl>
</li>
</ul>
<a name="cleanupSession-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupSession</h4>
<pre>public&nbsp;void&nbsp;cleanupSession(long&nbsp;sessionId)</pre>
<div class="block">Cleans up the data associated with a specific session (typically a dead session). Clean up
 entails unlocking the block locks of this session, reclaiming space of temp blocks created by
 this session, and deleting the session temporary folder.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sessionId</code> - the session id</dd>
</dl>
</li>
</ul>
<a name="hasBlockMeta-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasBlockMeta</h4>
<pre>public&nbsp;boolean&nbsp;hasBlockMeta(long&nbsp;blockId)</pre>
<div class="block">Checks if the storage has a given block.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockId</code> - the block id</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the block is contained, false otherwise</dd>
</dl>
</li>
</ul>
<a name="getBlockStoreMeta--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBlockStoreMeta</h4>
<pre>public&nbsp;<a href="../../../tachyon/worker/block/BlockStoreMeta.html" title="class in tachyon.worker.block">BlockStoreMeta</a>&nbsp;getBlockStoreMeta()</pre>
<div class="block">Gets the meta data of the entire store in a snapshot. There is no guarantee the state will be
 consistent with the snapshot after this method is called.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>store meta data</dd>
</dl>
</li>
</ul>
<a name="registerBlockStoreEventListener-tachyon.worker.block.BlockStoreEventListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerBlockStoreEventListener</h4>
<pre>public&nbsp;void&nbsp;registerBlockStoreEventListener(<a href="../../../tachyon/worker/block/BlockStoreEventListener.html" title="interface in tachyon.worker.block">BlockStoreEventListener</a>&nbsp;listener)</pre>
<div class="block">Registers a <a href="../../../tachyon/worker/block/BlockStoreEventListener.html" title="interface in tachyon.worker.block"><code>BlockStoreEventListener</code></a> to this block store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to those events</dd>
</dl>
</li>
</ul>
<a name="updatePinnedInodes-java.util.Set-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updatePinnedInodes</h4>
<pre>public&nbsp;void&nbsp;updatePinnedInodes(<a href="http://docs.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</a>&lt;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;inodes)</pre>
<div class="block">Updates the pinned blocks.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inodes</code> - a set of ids inodes that are pinned</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TieredBlockStore.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../tachyon/worker/block/SpaceReserver.html" title="class in tachyon.worker.block"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?tachyon/worker/block/TieredBlockStore.html" target="_top">Frames</a></li>
<li><a href="TieredBlockStore.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All Rights Reserved.</small></p>
</body>
</html>
